/*
 * APPS SECTION - Shopify App Integration Container
 * 
 * OVERVIEW:
 * This section provides a flexible container for integrating Shopify apps into the theme.
 * It supports dynamic app block rendering with multilingual capabilities and customizable
 * spacing options. The section is designed to seamlessly integrate third-party Shopify
 * apps while maintaining consistent styling with the theme.
 * 
 * MAIN FEATURES:
 * - Dynamic app block rendering using Shopify's @app block type
 * - Multi-language support (English, German, French)
 * - Configurable section spacing and layout options
 * - Wide display mode for full-width app presentations
 * - Consistent styling integration with theme base styles
 * - Automatic app block iteration and rendering
 * 
 * MULTILINGUAL SUPPORT:
 * - Primary title (English/default)
 * - German localization (title_de)
 * - French localization (title_fr)
 * - Automatic locale detection and content switching
 * - Fallback to default title if localized version is not available
 * 
 * LAYOUT STRUCTURE:
 * - Container wrapper with responsive max-width
 * - Optional spacing control (fully-spaced-row--medium)
 * - Section title with localization attributes
 * - Dynamic app block rendering area
 * - Unique section ID for styling isolation
 * 
 * STYLING CHARACTERISTICS:
 * - Uses CSS custom properties for consistent theming
 * - Responsive container with max-width constraints
 * - Mobile-optimized padding and typography
 * - Section-specific CSS class (section-apps)
 * - Integration with base theme styling system
 * 
 * CUSTOMIZATION OPTIONS:
 * - Wide display toggle for full-width layouts
 * - Section spacing control (show_space)
 * - Multilingual title configuration
 * - App-specific block customization through Shopify admin
 * 
 * APP INTEGRATION:
 * - Supports any Shopify app that provides @app blocks
 * - Common integrations include review apps (Loox), upsell apps (Selleasy),
 *   store locators, variant descriptions, and order limit apps
 * - Automatic rendering of app-provided content and functionality
 * 
 * PERFORMANCE CONSIDERATIONS:
 * - Minimal DOM structure for fast rendering
 * - CSS loaded only when section is used
 * - App-specific assets loaded by individual apps
 * - Efficient block iteration without unnecessary processing
 * 
 * ACCESSIBILITY:
 * - Semantic HTML structure with proper heading hierarchy
 * - Localization attributes for screen readers
 * - App-specific accessibility handled by individual apps
 * 
 * RELATED FILES:
 * - assets/section-basestyles.css (base styling for custom sections)
 * 
 * EXTERNAL DEPENDENCIES:
 * - Shopify theme settings system
 * - Shopify app block architecture
 * - Shopify localization system (request.locale)
 * - Individual Shopify apps and their assets
 * 
 * BROWSER SUPPORT:
 * - Modern browsers with CSS Grid and Flexbox support
 * - Progressive enhancement for older browsers
 * - Mobile-first responsive design approach
 */

{{ 'section-basestyles.css' | asset_url | stylesheet_tag }}

<div id="custom-apps-{{ section.id }}" class="custom-apps-section">
  <div class="container">
    <div class="{% if section.settings.show_space %}fully-spaced-row--medium{% endif %}" id="appblock">
      {%- for block in section.blocks -%}
        <h2 class="section-title" data-localize="{{ section.settings.title }}">
          {% if request.locale.iso_code == 'de' and section.settings.title_de != blank %}
            {{ section.settings.title_de }}
          {% elsif request.locale.iso_code == 'fr' and section.settings.title_fr != blank %}
            {{ section.settings.title_fr }}
          {% else %}
            {{ section.settings.title }}
          {% endif %}
        </h2>
        {% render block %}
      {%- endfor -%}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Apps",
  "class": "section-apps",
  "settings": [
    {
      "type": "checkbox",
      "id": "full_width",
      "label": "Wide display",
      "default": false
    },
    {
      "id": "show_space",
      "type": "checkbox",
      "label": "Show space above and below section",
      "default": true
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    },
    {
      "type": "text",
      "id": "title_de",
      "label": "Title (German)"
    },
    {
      "type": "text",
      "id": "title_fr",
      "label": "Title (French)"
    }
  ],
  "blocks": [
    {
      "type": "@app"
    }
  ],
  "presets": [
    {
      "name": "Apps"
    }
  ]
}
{% endschema %}