{{ 'enhanced-form.css' | asset_url | stylesheet_tag }}

<section class="enhanced-form-section" id="enhanced-form-{{ section.id }}">
  <div class="enhanced-form-container" {%- render 'animation-attrs', attrs: 'data-cc-animate' -%}>
    {% if section.settings.show_page_title %}
      <div class="enhanced-form-header">
        {%- liquid
          assign form_title_text = section.settings.form_title_en | default: 'Enhanced form'
          if section.settings.form_title_de != blank and request.locale.iso_code == 'de'
            assign form_title_text = section.settings.form_title_de
          elsif section.settings.form_title_fr != blank and request.locale.iso_code == 'fr'
            assign form_title_text = section.settings.form_title_fr
          elsif section.settings.form_title_fi != blank and request.locale.iso_code == 'fi'
            assign form_title_text = section.settings.form_title_fi
          endif
        -%}
        <h1 class="enhanced-form-title">{{ form_title_text | escape }}</h1>
      </div>
    {% endif %}

    <div class="{% if section.settings.use_columns %}use-columns{% endif %}">
    {% if section.settings.form_description_en != blank
      or section.settings.form_description_de != blank
      or section.settings.form_description_fr != blank
      or section.settings.form_description_fi != blank
    %}
      <div class="enhanced-form-description">
        {%- liquid
          assign form_description_text = section.settings.form_description_en
          if section.settings.form_description_de != blank and request.locale.iso_code == 'de'
            assign form_description_text = section.settings.form_description_de
          elsif section.settings.form_description_fr != blank and request.locale.iso_code == 'fr'
            assign form_description_text = section.settings.form_description_fr
          elsif section.settings.form_description_fi != blank and request.locale.iso_code == 'fi'
            assign form_description_text = section.settings.form_description_fi
          endif
        -%}
        {{ form_description_text }}
      </div>
    {% endif %}

      <div class="account-form">
        {% form 'contact', novalidate: true %}
        <!-- Add recipient email routing -->
        {% if section.settings.recipient_email != blank %}
          <input type="hidden" name="contact[recipient]" value="{{ section.settings.recipient_email }}">
        {% endif %}

        <!-- Add email subject with form identifier -->
        <input
          type="hidden"
          name="contact[subject]"
          value="[{{ form_title_text | default: 'Enhanced Form' | upcase }}] {{ form_title_text | default: 'Enhanced Form' }} - {{ shop.name }}"
        >

        <!-- Add formatted message intro -->
        <input
          type="hidden"
          name="contact[message_intro]"
          value="You have received a new form submission with the following details:"
        >

        {% if form.posted_successfully? %}
          <div class="form-success-message" style="display: none;">
            {%- liquid
              assign success_title_text = section.settings.success_title_en | default: 'Thank you!'
              if section.settings.success_title_de != blank and request.locale.iso_code == 'de'
                assign success_title_text = section.settings.success_title_de
              elsif section.settings.success_title_fr != blank and request.locale.iso_code == 'fr'
                assign success_title_text = section.settings.success_title_fr
              elsif section.settings.success_title_fi != blank and request.locale.iso_code == 'fi'
                assign success_title_text = section.settings.success_title_fi
              endif

              assign success_message_text = section.settings.success_message_en | default: 'Your form has been submitted successfully.'
              if section.settings.success_message_de != blank and request.locale.iso_code == 'de'
                assign success_message_text = section.settings.success_message_de
              elsif section.settings.success_message_fr != blank and request.locale.iso_code == 'fr'
                assign success_message_text = section.settings.success_message_fr
              elsif section.settings.success_message_fi != blank and request.locale.iso_code == 'fi'
                assign success_message_text = section.settings.success_message_fi
              endif
            -%}
            <h3>{{ success_title_text | escape }}</h3>
            <p>{{ success_message_text | escape }}</p>
            {% if section.settings.recipient_email != blank %}
              <p class="email-notification-info">
                A notification has been sent to {{ section.settings.recipient_email }}.
              </p>
            {% else %}
              <p class="email-notification-info">A notification has been sent to our team.</p>
            {% endif %}
          </div>
        {% endif %}

        {%- render 'form-errors', form: form -%}

        {%- if request.design_mode -%}
          {%- liquid
            assign email_exists = false
            for block in section.blocks
              if block.type == 'email_input'
                assign email_exists = true
              endif
            endfor
          -%}
          {%- if email_exists == false -%}
            <div class="errors">You must include the 'Email input' block for the form to work correctly.</div>
          {%- endif -%}
        {%- endif -%}

          <div class="flexible-layout flexible-layout--form">
            {% for block in section.blocks %}
              <div
                class="column column--{% if block.settings.half_width %}half{% else %}full{% endif %}"
                {{ block.shopify_attributes }}
              >
              {% case block.type %}
                {% when 'first_name_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'First name'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label class="enhanced-form-label" for="contact_first_name">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  <input
                    class="enhanced-form-input"
                    type="text"
                    autocomplete="given-name"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    id="contact_first_name"
                    name="contact[first_name]"
                    value="{{ form.first_name }}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >

                {% when 'last_name_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Last name'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label class="enhanced-form-label" for="contact_last_name">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  <input
                    class="enhanced-form-input"
                    type="text"
                    autocomplete="family-name"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    id="contact_last_name"
                    name="contact[last_name]"
                    value="{{ form.last_name }}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >

                {% when 'email_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Email'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label class="enhanced-form-label" for="contact_email">{{ label_text | escape }}<span class="required-asterisk">*</span></label>
                  <input
                    class="enhanced-form-input email"
                    type="email"
                    required
                    id="contact_email"
                    name="contact[email]"
                    autocomplete="email"
                    spellcheck="false"
                    autocapitalize="off"
                    value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >
                  <!-- Ensure this email is also used as sender for notifications -->
                  <input
                    type="hidden"
                    name="contact[sender_email]"
                    value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}"
                  >

                {% when 'phone_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Phone'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label class="enhanced-form-label" for="contact_phone">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  <input
                    class="enhanced-form-input"
                    type="tel"
                    id="contact_phone"
                    autocomplete="tel"
                    name="contact[phone]"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    value="{% if form.phone %}{{ form.phone }}{% elsif customer %}{{ customer.phone }}{% endif %}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >

                {% when 'company_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Company'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label class="enhanced-form-label" for="contact_company">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  <input
                    class="enhanced-form-input"
                    type="text"
                    id="contact_company"
                    autocomplete="organization"
                    name="contact[company]"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    value="{{ form.company }}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >

                {% when 'street_address_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Street Address'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label class="enhanced-form-label" for="contact_street_address">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  <input
                    class="enhanced-form-input"
                    type="text"
                    id="contact_street_address"
                    autocomplete="street-address"
                    name="contact[street_address]"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    value="{{ form.street_address }}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >

                {% when 'address_line_2_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Address Line 2'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label class="enhanced-form-label" for="contact_address_line_2">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  <input
                    class="enhanced-form-input"
                    type="text"
                    id="contact_address_line_2"
                    autocomplete="address-line2"
                    name="contact[address_line_2]"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    value="{{ form.address_line_2 }}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >

                {% when 'city_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'City'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label class="enhanced-form-label" for="contact_city">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  <input
                    class="enhanced-form-input"
                    type="text"
                    id="contact_city"
                    autocomplete="address-level2"
                    name="contact[city]"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    value="{{ form.city }}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >

                {% when 'state_province_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'State/Province'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label class="enhanced-form-label" for="contact_state_province">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  <input
                    class="enhanced-form-input"
                    type="text"
                    id="contact_state_province"
                    autocomplete="address-level1"
                    name="contact[state_province]"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    value="{{ form.state_province }}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >

                {% when 'postal_code_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Postal Code'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label class="enhanced-form-label" for="contact_postal_code">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  <input
                    class="enhanced-form-input"
                    type="text"
                    id="contact_postal_code"
                    autocomplete="postal-code"
                    name="contact[postal_code]"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    value="{{ form.postal_code }}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >

                {% when 'country_dropdown' %}
                  {%- liquid
                    assign title_handle = 'country'
                    assign custom_options = block.settings.country_options | newline_to_br | strip_newlines | split: '<br />'
                    assign input_id = title_handle | prepend: 'contact_'
                    assign input_name = title_handle | prepend: 'contact[' | append: ']'
                    assign label_text = block.settings.label_en | default: 'Country'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <div class="option-selector" data-selector-type="dropdown">
                    <script src="{{ 'custom-select.js' | asset_url }}" defer></script>
                    {% render 'custom-select',
                      id: input_id,
                      label: label_text,
                      option_values: custom_options,
                      selected_value: custom_options.first,
                      include_native: true,
                      native_name: input_name
                    %}
                  </div>

                {% when 'multilevel_dropdown' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Select Category'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                    assign placeholder_text = block.settings.placeholder_en | default: 'Browse For Your Category'
                    if block.settings.placeholder_de != blank and request.locale.iso_code == 'de'
                      assign placeholder_text = block.settings.placeholder_de
                    elsif block.settings.placeholder_fr != blank and request.locale.iso_code == 'fr'
                      assign placeholder_text = block.settings.placeholder_fr
                    elsif block.settings.placeholder_fi != blank and request.locale.iso_code == 'fi'
                      assign placeholder_text = block.settings.placeholder_fi
                    endif
                    assign cancel_text = block.settings.cancel_text_en | default: 'Cancel'
                    if block.settings.cancel_text_de != blank and request.locale.iso_code == 'de'
                      assign cancel_text = block.settings.cancel_text_de
                    elsif block.settings.cancel_text_fr != blank and request.locale.iso_code == 'fr'
                      assign cancel_text = block.settings.cancel_text_fr
                    elsif block.settings.cancel_text_fi != blank and request.locale.iso_code == 'fi'
                      assign cancel_text = block.settings.cancel_text_fi
                    endif
                  -%}
                  <div class="multilevel-dropdown-wrapper" data-field-name="{{ block.settings.field_name }}">
                    <label
                      for="{{ block.settings.field_name }}"
                      class="form-label{% if block.settings.required %} required{% endif %}"
                    >
                      {{ label_text }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}
                    </label>

                    <!-- Current Selection Display -->
                    <div class="current-selection" id="selection-display-{{ block.settings.field_name }}">
                      <span class="placeholder">{{ placeholder_text }}</span>
                      <span class="dropdown-arrow">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M7 10L12 15L17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                      </span>
                    </div>

                    <!-- Dropdown Panel -->
                    <div class="dropdown-panel" id="panel-{{ block.settings.field_name }}" style="display: none;">
                      <!-- Breadcrumb -->
                      <div class="breadcrumb-nav" id="breadcrumb-{{ block.settings.field_name }}">
                        <span class="breadcrumb-text">{{ placeholder_text }}</span>
                      </div>

                      <!-- Five Column Layout -->
                      <div class="five-column-container">
                        <!-- Level 1 Column -->
                        <div class="category-column level-1-column">
                          <div class="column-content" id="level-1-{{ block.settings.field_name }}">
                            <!-- Level 1 options will be populated here -->
                          </div>
                        </div>

                        <!-- Level 2 Column -->
                        <div class="category-column level-2-column" style="display: none;">
                          <div class="column-content" id="level-2-{{ block.settings.field_name }}">
                            <!-- Level 2 options will be populated here -->
                          </div>
                        </div>

                        <!-- Level 3 Column -->
                        <div class="category-column level-3-column" style="display: none;">
                          <div class="column-content" id="level-3-{{ block.settings.field_name }}">
                            <!-- Level 3 options will be populated here -->
                          </div>
                        </div>

                        <!-- Level 4 Column -->
                        <div class="category-column level-4-column" style="display: none;">
                          <div class="column-content" id="level-4-{{ block.settings.field_name }}">
                            <!-- Level 4 options will be populated here -->
                          </div>
                        </div>

                        <!-- Level 5 Column -->
                        <div class="category-column level-5-column" style="display: none;">
                          <div class="column-content" id="level-5-{{ block.settings.field_name }}">
                            <!-- Level 5 options will be populated here -->
                          </div>
                        </div>
                      </div>

                      <!-- Action Buttons -->
                      <div class="dropdown-actions">
                        <button type="button" class="btn-cancel">{{ cancel_text }}</button>
                      </div>
                    </div>

                    <!-- Hidden Input -->
                    <input
                      type="hidden"
                      name="contact[{{ block.settings.field_name }}]"
                      id="{{ block.settings.field_name }}"
                      value=""
                      {% if block.settings.required %}
                        required
                      {% endif %}
                    >

                    <!-- Hidden Data for JavaScript -->
                    <script type="application/json" id="data-{{ block.settings.field_name }}">
                      {
                        "level1": {{ block.settings.options_level_1 | split: '\n' | json }},
                        "level2": {{ block.settings.options_level_2 | split: '\n' | json }},
                        "level3": {{ block.settings.options_level_3 | split: '\n' | json }},
                        "level4": {{ block.settings.options_level_4 | split: '\n' | json }},
                        "level5": {{ block.settings.options_level_5 | split: '\n' | json }}
                      }
                    </script>
                  </div>

                {% when 'date_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Date'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label for="contact_{{ block.settings.field_name | handle }}">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  {% assign field_handle = block.settings.field_name | handle %}
                  <div class="custom-date-input-wrapper">
                    <input
                      type="text"
                      id="contact_{{ block.settings.field_name | handle }}"
                      name="contact[{{ block.settings.field_name | handle }}]"
                      class="custom-date-input"
                      placeholder="YYYY-MM-DD"
                      pattern="\d{4}-\d{2}-\d{2}"
                      {% if block.settings.required %}
                        required
                      {% endif %}
                      {% if block.settings.min_date != blank %}
                        data-min-date="{{ block.settings.min_date }}"
                      {% endif %}
                      {% if block.settings.max_date != blank %}
                        data-max-date="{{ block.settings.max_date }}"
                      {% endif %}
                      value="{{ form[field_handle] }}"
                      readonly
                    >
                    <div class="custom-date-picker" id="picker_{{ block.settings.field_name | handle }}" style="display: none;"></div>
                  </div>

                {% when 'time_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Time'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label for="contact_{{ block.settings.field_name | handle }}">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  {% assign field_handle = block.settings.field_name | handle %}
                  <div class="custom-time-input-wrapper">
                    <input
                      type="text"
                      id="contact_{{ block.settings.field_name | handle }}"
                      name="contact[{{ block.settings.field_name | handle }}]"
                      class="custom-time-input"
                      placeholder="HH:MM"
                      pattern="\d{2}:\d{2}"
                      {% if block.settings.required %}
                        required
                      {% endif %}
                      value="{{ form[field_handle] }}"
                      readonly
                    >
                    <div class="custom-time-picker" id="time_picker_{{ block.settings.field_name | handle }}" style="display: none;"></div>
                  </div>

                {% when 'datetime_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Date & Time'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label for="contact_{{ block.settings.field_name | handle }}">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  {% assign field_handle = block.settings.field_name | handle %}
                  <div class="custom-datetime-input-wrapper">
                    <input
                      type="text"
                      id="contact_{{ block.settings.field_name | handle }}"
                      name="contact[{{ block.settings.field_name | handle }}]"
                      class="custom-datetime-input"
                      placeholder="YYYY-MM-DD HH:MM"
                      pattern="\d{4}-\d{2}-\d{2} \d{2}:\d{2}"
                      {% if block.settings.required %}
                        required
                      {% endif %}
                      value="{{ form[field_handle] }}"
                      readonly
                    >
                    <div class="custom-datetime-picker" id="datetime_picker_{{ block.settings.field_name | handle }}" style="display: none;"></div>
                  </div>

                {% when 'number_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Number'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label for="contact_{{ block.settings.field_name | handle }}">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  {% assign field_handle = block.settings.field_name | handle %}
                  <input
                    type="number"
                    id="contact_{{ block.settings.field_name | handle }}"
                    name="contact[{{ block.settings.field_name | handle }}]"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    {% if block.settings.min_value != blank %}
                      min="{{ block.settings.min_value }}"
                    {% endif %}
                    {% if block.settings.max_value != blank %}
                      max="{{ block.settings.max_value }}"
                    {% endif %}
                    {% if block.settings.step_value != blank %}
                      step="{{ block.settings.step_value }}"
                    {% endif %}
                    value="{{ form[field_handle] }}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >

                {% when 'url_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Website'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label for="contact_{{ block.settings.field_name | handle }}">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  {% assign field_handle = block.settings.field_name | handle %}
                  <input
                    type="url"
                    id="contact_{{ block.settings.field_name | handle }}"
                    name="contact[{{ block.settings.field_name | handle }}]"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    value="{{ form[field_handle] }}"
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >

                {% when 'rating_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Rating'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label>{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  {%- assign field_handle = block.settings.field_name | handle -%}
                  <div class="rating-input {{ block.settings.rating_style | default: 'stars' }}" data-rating="{{ form[field_handle] | default: 0 }}">
                    {% for i in (1..5) %}
                      <input
                        type="radio"
                        id="rating_{{ field_handle }}_{{ i }}"
                        name="contact[{{ field_handle }}]"
                        value="{{ i }}"
                        {% if form[field_handle] == i %}
                          checked
                        {% endif %}
                      >
                      {% if block.settings.rating_style == 'emoji' %}
                        <label for="rating_{{ field_handle }}_{{ i }}" class="emoji-rating" data-value="{{ i }}">
                          {% case i %}
                            {% when 1 %}
                              <svg width="100" height="100" viewBox="0 0 100 100" class="emoji-svg"> 
                                <circle cx="50" cy="50" r="45" fill="#FF6B6B"/> 
                                <circle cx="35" cy="40" r="5" fill="#333"/> 
                                <circle cx="65" cy="40" r="5" fill="#333"/> 
                                <path d="M35,65 Q50,75 65,65" stroke="#333" stroke-width="4" fill="none" stroke-linecap="round"/> 
                              </svg>
                            {% when 2 %}
                              <svg width="100" height="100" viewBox="0 0 100 100" class="emoji-svg"> 
                                <circle cx="50" cy="50" r="45" fill="#FFD166"/> 
                                <circle cx="35" cy="40" r="5" fill="#333"/> 
                                <circle cx="65" cy="40" r="5" fill="#333"/> 
                                <line x1="30" y1="65" x2="70" y2="65" stroke="#333" stroke-width="4"/> 
                              </svg>
                            {% when 3 %}
                              <svg width="100" height="100" viewBox="0 0 100 100" class="emoji-svg"> 
                                <circle cx="50" cy="50" r="45" fill="#A5D8FF"/> 
                                <circle cx="35" cy="40" r="5" fill="#333"/> 
                                <circle cx="65" cy="40" r="5" fill="#333"/> 
                                <path d="M35,65 Q50,70 65,65" stroke="#333" stroke-width="4" fill="none"/> 
                              </svg>
                            {% when 4 %}
                              <svg width="100" height="100" viewBox="0 0 100 100" class="emoji-svg"> 
                                <circle cx="50" cy="50" r="45" fill="#90E39A"/> 
                                <circle cx="35" cy="40" r="5" fill="#333"/> 
                                <path d="M65,40 Q67,42 65,44" stroke="#333" stroke-width="4" fill="none"/> 
                                <path d="M30,65 Q50,75 70,65" stroke="#333" stroke-width="4" fill="none" stroke-linecap="round"/> 
                              </svg>
                            {% when 5 %}
                              <svg width="100" height="100" viewBox="0 0 100 100" class="emoji-svg"> 
                                <circle cx="50" cy="50" r="45" fill="#90E39A"/> 
                                <circle cx="35" cy="40" r="5" fill="#333"/> 
                                <path d="M65,40 Q67,42 65,44" stroke="#333" stroke-width="4" fill="none"/> 
                                <path d="M30,65 Q50,75 70,65" stroke="#333" stroke-width="4" fill="none" stroke-linecap="round"/> 
                              </svg>
                          {% endcase %}
                        </label>
                      {% else %}
                        <label for="rating_{{ field_handle }}_{{ i }}" class="star">â˜…</label>
                      {% endif %}
                    {% endfor %}
                  </div>

                {% when 'checkbox_group' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Interests'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <fieldset class="{% if block.settings.two_column_layout %}checkbox-group-two-columns{% endif %}">
                    <legend>{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</legend>
                    {%- assign checkbox_options = block.settings.checkbox_options
                      | newline_to_br
                      | strip_newlines
                      | split: '<br />'
                    -%}
                    {%- assign field_handle = block.settings.field_name | handle -%}
                    <div class="checkbox-options-container{% if block.settings.two_column_layout %} two-columns{% endif %}">
                      {% for option in checkbox_options %}
                        <label class="checkbox-label">
                          <input
                            type="checkbox"
                            name="contact[{{ field_handle }}][]"
                            value="{{ option | escape }}"
                            {% if form[field_handle] contains option %}
                              checked
                            {% endif %}
                          >
                          {{ option | escape }}
                        </label>
                      {% endfor %}
                    </div>
                  </fieldset>

                {% when 'radio_group' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Preference'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <fieldset class="{% if block.settings.two_column_layout %}radio-group-two-columns{% endif %}">
                    <legend>{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</legend>
                    {%- assign radio_options = block.settings.radio_options
                      | newline_to_br
                      | strip_newlines
                      | split: '<br />'
                    -%}
                    {%- assign field_handle = block.settings.field_name | handle -%}
                    <div class="radio-options-container{% if block.settings.two_column_layout %} two-columns{% endif %}">
                      {% for option in radio_options %}
                        <label class="radio-label">
                          <input
                            type="radio"
                            name="contact[{{ field_handle }}]"
                            value="{{ option | escape }}"
                            {% if block.settings.required %}
                              required
                            {% endif %}
                            {% if form[field_handle] == option %}
                              checked
                            {% endif %}
                          >
                          {{ option | escape }}
                        </label>
                      {% endfor %}
                    </div>
                  </fieldset>

                {% when 'message_input' %}
                  {%- liquid
                    assign label_text = block.settings.label_en | default: 'Message'
                    if block.settings.label_de != blank and request.locale.iso_code == 'de'
                      assign label_text = block.settings.label_de
                    elsif block.settings.label_fr != blank and request.locale.iso_code == 'fr'
                      assign label_text = block.settings.label_fr
                    elsif block.settings.label_fi != blank and request.locale.iso_code == 'fi'
                      assign label_text = block.settings.label_fi
                    endif
                  -%}
                  <label for="message">{{ label_text | escape }}{% if block.settings.required %}<span class="required-asterisk">*</span>{% endif %}</label>
                  <textarea
                    id="message"
                    name="contact[body]"
                    {% if block.settings.required %}
                      required
                    {% endif %}
                    rows="{{ block.settings.rows | default: 5 }}"
                    {% if block.settings.max_length != blank %}
                      maxlength="{{ block.settings.max_length }}"
                    {% endif %}
                    {% if block.settings.placeholder != blank %}
                      placeholder="{{ block.settings.placeholder | escape }}"
                    {% endif %}
                  >{{ form.body }}</textarea>
                  {% if block.settings.max_length != blank %}
                    <small class="character-count">0/{{ block.settings.max_length }} characters</small>
                  {% endif %}

                {% when 'text' %}
                  <div class="rte">{{ block.settings.text }}</div>

                {% when 'divider' %}
                  <hr
                    class="form-divider"
                    style="border-color: {{ block.settings.divider_color | default: '#e0e0e0' }};"
                  >

                {% when 'spacer' %}
                  <div class="form-spacer" style="height: {{ block.settings.spacer_height | default: 20 }}px;"></div>
              {% endcase %}
            </div>
          {% endfor %}
        </div>

          <div class="form-actions">
            {%- liquid
              assign submit_text = section.settings.submit_button_text_en | default: 'Submit form'
              if section.settings.submit_button_text_de != blank and request.locale.iso_code == 'de'
                assign submit_text = section.settings.submit_button_text_de
              elsif section.settings.submit_button_text_fr != blank and request.locale.iso_code == 'fr'
                assign submit_text = section.settings.submit_button_text_fr
              elsif section.settings.submit_button_text_fi != blank and request.locale.iso_code == 'fi'
                assign submit_text = section.settings.submit_button_text_fi
              endif
            -%}
            <button
              class="enhanced-form-submit-btn btn btn--{{ section.settings.button_style | default: 'primary' }}"
              type="submit"
              {% if section.settings.custom_button_color != blank %}
                style="background: linear-gradient(135deg, {{ section.settings.custom_button_color }} 0%, {{ section.settings.custom_button_color | color_darken: 20 }} 100%);"
              {% endif %}
            >
              {{ submit_text | escape }}
            </button>
          </div>
        {% endform %}
      </div>
    </div>
  </div>
</section>

{{ 'enhanced-form.js' | asset_url | script_tag }}

{% schema %}
{
  "name": {
    "en": "Enhanced Form",
    "de": "Erweiterte Form",
    "fr": "Formulaire AmÃ©liorÃ©",
    "fi": "Parannettu Lomake"
  },
  "class": "page-section-spacing",
  "settings": [
    {
      "type": "header",
      "content": "Form Settings"
    },
    {
      "type": "checkbox",
      "id": "show_page_title",
      "label": "Show page title",
      "default": true
    },
    {
      "type": "text",
      "id": "form_title_en",
      "label": "Form title (English)",
      "default": "Enhanced form"
    },
    {
      "type": "text",
      "id": "form_title_de",
      "label": "Form title (German)",
      "default": "Erweitertes formular"
    },
    {
      "type": "text",
      "id": "form_title_fr",
      "label": "Form title (French)",
      "default": "Formulaire amÃ©liorÃ©"
    },
    {
      "type": "text",
      "id": "form_title_fi",
      "label": "Form title (Finnish)",
      "default": "Parannettu lomake"
    },
    {
      "type": "text",
      "id": "recipient_email",
      "label": "Recipient Email Address",
      "info": "Email address to receive form submissions. Leave blank to use store email."
    },
    {
      "type": "checkbox",
      "id": "use_columns",
      "label": "Two column layout",
      "default": true
    },
    {
      "type": "richtext",
      "id": "form_description_en",
      "label": "Form description (English)"
    },
    {
      "type": "richtext",
      "id": "form_description_de",
      "label": "Form description (German)"
    },
    {
      "type": "richtext",
      "id": "form_description_fr",
      "label": "Form description (French)"
    },
    {
      "type": "richtext",
      "id": "form_description_fi",
      "label": "Form description (Finnish)"
    },
    {"type": "header",
      "content": "Success Message"
    },
    {
      "type": "text",
      "id": "success_title_en",
      "label": "Success title (English)",
      "default": "Thank you!"
    },
    {
      "type": "text",
      "id": "success_title_de",
      "label": "Success title (German)",
      "default": "Vielen dank!"
    },
    {
      "type": "text",
      "id": "success_title_fr",
      "label": "Success title (French)",
      "default": "Merci!"
    },
    {
      "type": "text",
      "id": "success_title_fi",
      "label": "Success title (Finnish)",
      "default": "Kiitos!"
    },
    {
      "type": "textarea",
      "id": "success_message_en",
      "label": "Success message (English)",
      "default": "Your form has been submitted successfully."
    },
    {
      "type": "textarea",
      "id": "success_message_de",
      "label": "Success message (German)",
      "default": "Ihr formular wurde erfolgreich Ã¼bermittelt."
    },
    {
      "type": "textarea",
      "id": "success_message_fr",
      "label": "Success message (French)",
      "default": "Votre formulaire a Ã©tÃ© soumis avec succÃ¨s."
    },
    {
      "type": "textarea",
      "id": "success_message_fi",
      "label": "Success message (Finnish)",
      "default": "Lomakkeesi on lÃ¤hetetty onnistuneesti."
    },
    {
      "type": "header",
      "content": "Submit Button"
    },
    {
      "type": "text",
      "id": "submit_button_text_en",
      "label": "Submit button text (English)",
      "default": "Submit"
    },
    {
      "type": "text",
      "id": "submit_button_text_de",
      "label": "Submit button text (German)",
      "default": "Absenden"
    },
    {
      "type": "text",
      "id": "submit_button_text_fr",
      "label": "Submit button text (French)",
      "default": "Soumettre"
    },
    {
      "type": "text",
      "id": "submit_button_text_fi",
      "label": "Submit button text (Finnish)",
      "default": "LÃ¤hetÃ¤ lomake"
    },
    {
      "type": "select",
      "id": "button_style",
      "label": "Button style",
      "default": "primary",
      "options": [
        {
          "value": "primary",
          "label": "Primary"
        },
        {
          "value": "secondary",
          "label": "Secondary"
        },
        {
          "value": "outline",
          "label": "Outline"
        }
      ]
    },
    {
      "type": "color",
      "id": "custom_button_color",
      "label": {
        "en": "Custom Submit Button Color",
        "de": "Benutzerdefinierte Senden-Button-Farbe",
        "fr": "Couleur PersonnalisÃ©e du Bouton Envoyer",
        "fi": "Mukautettu LÃ¤hetÃ¤-painikkeen VÃ¤ri"
      },
      "default": "#2d3748",
      "info": {
        "en": "Default is black gradient. Leave empty to use theme default.",
        "de": "Standard ist schwarzer Verlauf. Leer lassen fÃ¼r Theme-Standard.",
        "fr": "Par dÃ©faut, dÃ©gradÃ© noir. Laisser vide pour utiliser le thÃ¨me par dÃ©faut.",
        "fi": "Oletus on musta liukuvÃ¤ri. JÃ¤tÃ¤ tyhjÃ¤ksi kÃ¤yttÃ¤Ã¤ksesi teeman oletusta."
      }
    }
  ],
  "blocks": [
    {
      "type": "first_name_input",
      "name": "ðŸ‘¤ First Name",
      "settings": [
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "First name"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Vorname"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "PrÃ©nom"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Etunimi"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "last_name_input",
      "name": "ðŸ‘¤ Last Name",
      "settings": [
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Last Name"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Nachname"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Nom De Famille"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Sukunimi"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "email_input",
      "name": "ðŸ“§ Email",
      "limit": 1,
      "settings": [
        {
          "type": "paragraph",
          "content": "REQUIRED - Contact form will not work if this block is removed."
        },
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Email"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "E-Mail"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "E-Mail"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "SÃ¤hkÃ¶posti"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder"
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": false
        }
      ]
    },
    {
      "type": "phone_input",
      "name": "ðŸ“ž Phone",
      "settings": [
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Phone"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Telefon"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "TÃ©lÃ©phone"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Puhelin"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "company_input",
      "name": "ðŸ¢ Company",
      "settings": [
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Company"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Unternehmen"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Entreprise"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Yritys"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "street_address_input",
      "name": "ðŸ  Street Address",
      "settings": [
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Street Address"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "StraÃŸenadresse"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Adresse De Rue"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Katuosoite"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": false
        }
      ]
    },
    {
      "type": "address_line_2_input",
      "name": "ðŸ  Address Line 2",
      "settings": [
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Address Line 2"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Adresszeile 2"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Ligne D'Adresse 2"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Osoiterivi 2"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": false
        }
      ]
    },
    {
      "type": "city_input",
      "name": "ðŸ™ï¸ City",
      "settings": [
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "City"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Stadt"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Ville"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Kaupunki"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "state_province_input",
      "name": "ðŸ—ºï¸ State/Province",
      "settings": [
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "State/Province"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Bundesland/Provinz"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Ã‰tat/Province"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Osavaltio/Maakunta"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "postal_code_input",
      "name": "ðŸ“® Postal Code",
      "settings": [
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Postal Code"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Postleitzahl"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Code Postal"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Postinumero"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "country_dropdown",
      "name": "ðŸŒ Country Dropdown",
      "settings": [
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Country"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Land"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Pays"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Maa"
        },
        {
          "type": "textarea",
          "id": "country_options",
          "label": "Country options",
          "default": "United States\nCanada\nUnited Kingdom\nGermany\nFrance\nAustralia\nJapan",
          "info": "One country on each line"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "multilevel_dropdown",
      "name": "ðŸ“‹ Multi-Level Dropdown",
      "settings": [
        {
          "type": "text",
          "id": "field_name",
          "label": "Field Name",
          "default": "category_selection"
        },
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Select Category"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Kategorie AuswÃ¤hlen"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "SÃ©lectionner Une CatÃ©gorie"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Valitse Kategoria"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder Text",
          "default": "Click to select"
        },
        {
          "type": "header",
          "content": "First Level Options"
        },
        {
          "type": "textarea",
          "id": "options_level_1",
          "label": "Level 1 Options",
          "info": "One option per line. Add '>' for sub-options",
          "default": "Trekking 7 LTD\nTrekking 7 SE\nTrekking 7\nMountain 7\nMountain 7 Carbon\nCity 7"
        },
        {
          "type": "header",
          "content": "Second Level Options"
        },
        {
          "type": "textarea",
          "id": "options_level_2",
          "label": "Level 2 Options",
          "info": "Format: ParentOption>ChildOption",
          "default": "Trekking 7 LTD>Long Range\nTrekking 7 LTD>Performance\nTrekking 7 LTD>Ultra\nTrekking 7 SE>Long Range\nTrekking 7 SE>Performance\nTrekking 7 SE>Ultra\nTrekking 7>Long Range\nTrekking 7>Performance\nTrekking 7>Ultra\nTrekking 7>Ultra+\nMountain 7>Long Range\nMountain 7>Performance\nMountain 7>Ultra\nMountain 7 Carbon>Long Range\nMountain 7 Carbon>Performance\nMountain 7 Carbon>Ultra\nCity 7>Long Range\nCity 7>Performance\nCity 7>Ultra"
        },
        {
          "type": "header",
          "content": "Third Level Options"
        },
        {
          "type": "textarea",
          "id": "options_level_3",
          "label": "Level 3 Options",
          "info": "Format: ParentOption>ChildOption",
          "default": "Long Range>High step\nLong Range>Low step\nLong Range>Step through\nPerformance>High step\nPerformance>Low step\nPerformance>Step through\nUltra>High step\nUltra>Low step\nUltra>Step through\nUltra+>High step\nUltra+>Low step\nUltra+>Step through"
        },
        {
          "type": "header",
          "content": "Fourth Level Options"
        },
        {
          "type": "textarea",
          "id": "options_level_4",
          "label": "Level 4 Options",
          "info": "Format: ParentOption>ChildOption",
          "default": "High step>M\nHigh step>L\nHigh step>XL\nLow step>M\nLow step>L\nStep through>S\nStep through>M\nStep through>L"
        },
        {
          "type": "header",
          "content": "Fifth Level Options"
        },
        {
          "type": "textarea",
          "id": "options_level_5",
          "label": "Level 5 Options",
          "info": "Format: ParentOption>ChildOption",
          "default": "M>Light Grey\nM>Black\nM>Dark Grey\nM>Sand\nM>Moss\nM>Anthracite\nM>Warm Grey\nM>Grey\nM>Dark Blue\nM>Olive\nM>Mint\nM>Blue Grey\nL>Light Grey\nL>Black\nL>Dark Grey\nL>Sand\nL>Moss\nL>Anthracite\nL>Warm Grey\nL>Grey\nL>Dark Blue\nL>Olive\nL>Mint\nL>Blue Grey\nXL>Light Grey\nXL>Black\nXL>Dark Grey\nXL>Sand\nXL>Moss\nXL>Anthracite\nXL>Warm Grey\nXL>Grey\nXL>Dark Blue\nXL>Olive\nXL>Mint\nXL>Blue Grey\nS>Light Grey\nS>Black\nS>Dark Grey\nS>Sand\nS>Moss\nS>Anthracite\nS>Warm Grey\nS>Grey\nS>Dark Blue\nS>Olive\nS>Mint\nS>Blue Grey"
        }
      ]
    },
    {
      "type": "date_input",
      "name": "ðŸ“… Date Input",
      "settings": [
        {
          "type": "text",
          "id": "field_name",
          "label": "Field name",
          "default": "date"
        },
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Date"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Datum"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Date"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "PÃ¤ivÃ¤mÃ¤Ã¤rÃ¤"
        },
        {
          "type": "text",
          "id": "min_date",
          "label": "Minimum date (YYYY-MM-DD)"
        },
        {
          "type": "text",
          "id": "max_date",
          "label": "Maximum date (YYYY-MM-DD)"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "time_input",
      "name": "ðŸ• Time Input",
      "settings": [
        {
          "type": "text",
          "id": "field_name",
          "label": "Field name",
          "default": "time"
        },
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Time"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Zeit"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Heure"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Aika"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "datetime_input",
      "name": "ðŸ“…ðŸ• Date & Time Input",
      "settings": [
        {
          "type": "text",
          "id": "field_name",
          "label": "Field name",
          "default": "datetime"
        },
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Date & Time"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Datum & Zeit"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Date Et Heure"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "PÃ¤ivÃ¤mÃ¤Ã¤rÃ¤ Ja Aika"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": false
        }
      ]
    },
    {
      "type": "number_input",
      "name": "ðŸ”¢ Number Input",
      "settings": [
        {
          "type": "text",
          "id": "field_name",
          "label": "Field name",
          "default": "number"
        },
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Number"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Nummer"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "NumÃ©ro"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Numero"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder"
        },
        {
          "type": "number",
          "id": "min_value",
          "label": "Minimum value"
        },
        {
          "type": "number",
          "id": "max_value",
          "label": "Maximum value"
        },
        {
          "type": "text",
          "id": "step_value",
          "label": "Step value",
          "default": "1"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "url_input",
      "name": "ðŸ”— URL Input",
      "settings": [
        {
          "type": "text",
          "id": "field_name",
          "label": "Field name",
          "default": "website"
        },
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Website"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Webseite"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Site Web"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Verkkosivusto"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder",
          "default": "https://example.com"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": false
        }
      ]
    },
    {
      "type": "rating_input",
      "name": "â­ Rating Input",
      "settings": [
        {
          "type": "text",
          "id": "field_name",
          "label": "Field name",
          "default": "rating"
        },
        {
          "type": "select",
          "id": "rating_style",
          "label": {
            "en": "Rating Style",
            "de": "Bewertungsstil",
            "fr": "Style d'Ã©valuation"
          },
          "options": [
            {
              "value": "stars",
              "label": {
                "en": "Classic Stars",
                "de": "Klassische Sterne",
                "fr": "Ã‰toiles classiques"
              }
            },
            {
              "value": "emoji",
              "label": {
                "en": "Modern Emoji",
                "de": "Moderne Emoji",
                "fr": "Emoji moderne"
              }
            }
          ],
          "default": "stars"
        },
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Rating"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Bewertung"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Ã‰valuation"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Arviointi"
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half width",
          "default": true
        }
      ]
    },
    {
      "type": "checkbox_group",
      "name": "â˜‘ï¸ Checkbox Group",
      "settings": [
        {
          "type": "text",
          "id": "field_name",
          "label": "Field name",
          "default": "interests"
        },
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Interests"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Interessen"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "IntÃ©rÃªts"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Kiinnostuksen Kohteet"
        },
        {
          "type": "textarea",
          "id": "checkbox_options",
          "label": "Checkbox options",
          "default": "Technology\nSports\nMusic\nTravel\nFood",
          "info": "One option on each line"
        },
         {
          "type": "checkbox",
          "id": "two_column_layout",
          "label": "Two column layout",
          "default": true
        }
      ]
    },
    {
      "type": "radio_group",
      "name": "ðŸ”˜ Radio Group",
      "settings": [
        {
          "type": "text",
          "id": "field_name",
          "label": "Field name",
          "default": "preference"
        },
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Preference"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "PrÃ¤ferenz"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "PrÃ©fÃ©rence"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Mieltymys"
        },
        {
          "type": "textarea",
          "id": "radio_options",
          "label": "Radio options",
          "default": "Option 1\nOption 2\nOption 3",
          "info": "One option on each line"
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "two_column_layout",
          "label": "Two column layout",
          "default": true
        }
      ]
    },
    {
      "type": "message_input",
      "name": "ðŸ’¬ Message Input",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "label_en",
          "label": "Label (English)",
          "default": "Message"
        },
        {
          "type": "text",
          "id": "label_de",
          "label": "Label (German)",
          "default": "Nachricht"
        },
        {
          "type": "text",
          "id": "label_fr",
          "label": "Label (French)",
          "default": "Message"
        },
        {
          "type": "text",
          "id": "label_fi",
          "label": "Label (Finnish)",
          "default": "Viesti"
        },
        {
          "type": "text",
          "id": "placeholder",
          "label": "Placeholder Text",
          "default": "Enter your message here..."
        },
        {
          "type": "checkbox",
          "id": "required",
          "label": "Required Field",
          "default": true
        },
        {
          "type": "number",
          "id": "min_length",
          "label": "Minimum Character Length",
          "default": 10
        },
        {
          "type": "number",
          "id": "max_length",
          "label": "Maximum Character Length",
          "default": 1000
        },
        {
          "type": "number",
          "id": "rows",
          "label": "Number of Rows",
          "default": 5,
          "info": "Height of the textarea"
        },
        {
          "type": "checkbox",
          "id": "half_width",
          "label": "Half Width",
          "default": true
        }
      ]
    },
    {
      "type": "text",
      "name": "ðŸ“ Text",
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Add some text here</p>"
        }
      ]
    },
    {
      "type": "divider",
      "name": "âž– Divider",
      "settings": [
        {
          "type": "color",
          "id": "divider_color",
          "label": "Divider color",
          "default": "#e0e0e0"
        }
      ]
    },
    {
      "type": "spacer",
      "name": "â¬œ Spacer",
      "settings": [
        {
          "type": "range",
          "id": "spacer_height",
          "label": "Spacer height (px)",
          "min": 10,
          "max": 100,
          "step": 5,
          "default": 20
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Enhanced form",
      "category": "custom"
    }
  ]
}
{% endschema %}
