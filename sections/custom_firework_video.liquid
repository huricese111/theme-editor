{% schema %}
{
  "name": "Custom Playlist",
  "settings": [
    {
      "type": "select",
      "id": "mode",
      "label": "Select Mode",
      "options": [
        {
          "value": "default",
          "label": "Story Block"
        },
        {
          "value": "pinned",
          "label": "Floating Player"
        },
        {
          "value": "grid",
          "label": "Grid"
        },
        {
          "value": "row",
          "label": "Carousel"
        },
        {
          "value": "hero",
          "label": "Hero Unit"
        }
      ],
      "default": "row"
    },
    {
      "type": "text",
      "id": "playlist_id",
      "label": "Playlist ID",
      "info": "Enter the Firework playlist ID"
    }
  ],
  "presets": [
    {
      "name": "Custom Playlist",
      "category": "Custom"
    }
  ]
}
{% endschema %}

{% assign playlist_id = section.settings.playlist_id %}
{% assign mode = section.settings.mode %}

<style>
  .videoblock {
    padding: 100px 60px;
    transition: height 0.3s ease, padding 0.3s ease;
  }
  
  .mode-pinned {
    height: 0;
    padding: 0;
    overflow: hidden;
  }

  fw-storyblock[mode="pinned"] {
    position: fixed;
    z-index: 1000;
    bottom: 20px;
    right: 20px;
    width: 300px;
    height: 200px;
  }
</style>

<div class="videoblock {% if mode == 'pinned' %}mode-pinned{% endif %}">
  <script async src="//asset.fwcdn3.com/js/storyblock.js"></script>

  {% if mode == 'default' %}
    <fw-storyblock
      channel="hepha"
      playlist="{{ playlist_id }}"
      autoplay="true"
    >
    </fw-storyblock>

  {% elsif mode == 'pinned' %}
    <fw-storyblock
      channel="hepha"
      playlist="{{ playlist_id }}"
      mode="pinned"
      autoplay="true"
    ></fw-storyblock>

  {% elsif mode == 'grid' %}
    <script async type="text/javascript" src="//asset.fwcdn3.com/js/embed-feed.js"></script>
    <fw-embed-feed
      channel="hepha"
      playlist="{{ playlist_id }}"
      mode="grid"
      open_in="default"
      max_videos="0"
      placement="middle"
      player_placement="bottom-right"
    >
    </fw-embed-feed>

  {% elsif mode == 'row' %}
    <script async type="text/javascript" src="//asset.fwcdn3.com/js/embed-feed.js"></script>
    <fw-embed-feed
      channel="hepha"
      playlist="{{ playlist_id }}"
      mode="row"
      open_in="default"
      max_videos="0"
      placement="middle"
      player_placement="bottom-right"
    >
    </fw-embed-feed>

  {% elsif mode == 'hero' %}
    <script async src="//asset.fwcdn3.com/js/fwn.js"></script>
    <fw-herounit
      channel="hepha"
      playlist="{{ playlist_id }}"
    >
    </fw-herounit>
  {% endif %}
</div>