{%- comment -%}
/**
 * Specification Sheet Section - Product Technical Details Display
 * 
 * This section provides a comprehensive technical specification display
 * for products, particularly designed for e-bikes and cycling equipment.
 * 
 * Key Features:
 * - Multilingual specification display (English, German, French, Finnish)
 * - Modular specification categories with organized grouping
 * - Responsive design with mobile-optimized layout
 * - Dynamic content rendering based on product metafields
 * - Clean tabular presentation of technical data
 * 
 * Specification Categories:
 * - E-Bike System: Frame, motor, battery, display components
 * - Suspension: Fork and shock specifications
 * - Shifting: Derailleur, shifters, sprocket, cassette details
 * - Brakes: Brake systems, discs, and levers
 * - Wheels: Tires, rims, and hub specifications
 * - Steering & Seating: Handlebar, grips, stem, seat post, saddle
 * - Components: Lighting systems and carrier information
 * - Weight & Class: Total weight, bike weight, and category classification
 * 
 * Layout Features:
 * - Centered container with maximum width constraint
 * - Flexible column layout for specification rows
 * - Responsive mobile design with stacked layout
 * - Consistent spacing and typography hierarchy
 * - Header sections for category organization
 * 
 * Multilingual Support:
 * - German (DE): "Spezifikation"
 * - French (FR): "Spécifications" 
 * - Finnish (FI): "Tekniset tiedot"
 * - English (Default): "Specification"
 * 
 * Technical Implementation:
 * - Uses spec-module snippet for modular rendering
 * - Locale-based language detection and switching
 * - CSS Grid and Flexbox for responsive layout
 * - Mobile-first responsive design approach
 * 
 * Styling Features:
 * - Clean, professional appearance
 * - Consistent font sizing and spacing
 * - Responsive breakpoints for mobile devices
 * - Structured header and content organization
 * 
 * Dependencies:
 * - spec-module snippet for individual specification rendering
 * - Product metafields for specification data
 * - Locale settings for language detection
 * 
 * Browser Support:
 * - Modern browsers with CSS Flexbox support
 * - Progressive enhancement for older browsers
 * - Mobile-responsive design
 */
{%- endcomment -%}

{% schema %}
{
  "name": "Custom Specification",
  "settings": [],
  "presets": [
    {
      "name": "Custom Specification",
      "category": "Custom"
    }
  ]
}
{% endschema %}

{{ 'section-basestyles.css' | asset_url | stylesheet_tag }}

{% assign lang = request.locale.iso_code %}
<div id="custom-specification-sheet">
  <div class="container">
    <h2 class="section-title" id="specification">
      {% case lang %}
        {% when 'de' -%}
          Spezifikation
        {% when 'fr' -%}
          Spécifications
        {% when 'fi' -%}
          Tekniset tiedot
        {% else -%}
          Specification
      {% endcase %}
    </h2>

    <div class="specification-sheet-list" id="specification-sheet-list">

      <!-- E-Bike System -->
      {% render 'spec-module',
        fields: 'motor2,battery,display',
        labels: 'motor,battery,display',
        title: 'e-bike-system',
        lang: lang
      %}

      <!-- Frame -->
      {% render 'spec-module',
        fields: 'frame',
        labels: 'frame',
        title: 'frame',
        lang: lang
      %}

      <!-- Suspension -->
      {% render 'spec-module', fields: 'fork,shock', labels: 'fork,shock', title: 'suspension', lang: lang %}

      <!-- Shifting -->
      {% render 'spec-module',
        fields: 'derailleur,shifters,sprocket,cassette',
        labels: 'derailleur,shifters,sprocket,cassette',
        title: 'shifting',
        lang: lang
      %}

      <!-- Brakes -->
      {% render 'spec-module',
        fields: 'brake_f_r,brake_disc_f_r,brake_levers',
        labels: 'brake_f_r,brake_disc_f_r,brake_levers',
        title: 'brakes',
        lang: lang
      %}

      <!-- Wheels -->
      {% render 'spec-module',
        fields: 'tires,rims,hub_front_f_r',
        labels: 'tires,rims,hub_front_f_r',
        title: 'wheels',
        lang: lang
      %}

      <!-- Steering & Seating -->
      {% render 'spec-module',
        fields: 'handlebar,grips,stem,seat_post,saddle',
        labels: 'handlebar,grips,stem,seat_post,saddle',
        title: 'steering_seating',
        lang: lang
      %}

      <!-- Components -->
      {% render 'spec-module',
        fields: 'front_light,rear_light,carrier',
        labels: 'front_light,rear_light,carrier',
        title: 'components',
        lang: lang
      %}

      <!-- Weight & Class -->
      {% render 'spec-module',
        fields: 'perm_total_weight,bike_weight,category',
        labels: 'perm_total_weight,bike_weight,category',
        title: 'weight_class',
        lang: lang
      %}
      
      <!-- Accessories Specifications -->
      <div class="specification-module accessories-specs">
        <div class="specification-row">
          {% for i in (1..10) %} 
            {% capture name_key %}specification_name_{{ i }}{% endcapture %} 
            {% capture value_key %}specification_value_{{ i }}{% endcapture %} 
            {% assign name = product.metafields.custom[name_key] %} 
            {% assign value = product.metafields.custom[value_key] %} 
            {% if name.value != blank or value.value != blank %}
              <div class="column">
                <div class="label-column">
                  <strong>{{ name.value }}</strong>
                </div>
                <div class="value-column">{{ value.value }}</div>
              </div>
            {% endif %} 
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  #custom-specification-sheet {
    margin: 80px 0;
  }

  #custom-specification-sheet .specification-sheet-list {
    display: flex;
    flex-direction: column;
  }

  #custom-specification-sheet .specification-module {
    margin-bottom: 20px;
  }

  #custom-specification-sheet .specification-row {
    display: flex;
    justify-content: flex-start;
    padding: 5px 0;
    flex-wrap: wrap;
    margin: 0 6px; 
  }

  #custom-specification-sheet .column {
    flex: 0 0 calc(33.33% - 10px);
    margin: 0 5px 10px;
    box-sizing: border-box;
  }

  #custom-specification-sheet .label-column {
    font-size: 18px;
    margin-bottom: 5px;
    flex: 0.5;
    padding-left: 10px; 
  }

  #custom-specification-sheet .value-column {
    font-size: 16px;
    padding-left: 10px; 
  }

  #custom-specification-sheet .specification-header {
    width: 100%;
    background-color: #f0f0f0;
    padding: 10px;
    margin: 10px 0;
  }

  #custom-specification-sheet .specification-header h5 {
    margin: 0;
    text-align: left;
    padding-left: 10px; 
  }
  
  #custom-specification-sheet .info-container {
    margin-top: 40px;
  }
  
  #custom-specification-sheet #specification-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
  }
  
  #custom-specification-sheet #specification-table th,
  #custom-specification-sheet #specification-table td {
    padding: 10px;
    text-align: left;
    border-bottom: 1px solid #ddd;
  }
  
  #custom-specification-sheet #specification-table th {
    width: 30%;
    font-weight: 600;
  }

  @media (max-width: 768px) {
    #custom-specification-sheet {
      margin: 50px 0; 
    }
    
    #custom-specification-sheet .specification-row {
      flex-direction: column;
      margin: 0 10px; 
    }
    
    #custom-specification-sheet .column {
      flex: 0 0 100%;
      margin: 0 0 10px;
    }
    
    #custom-specification-sheet #specification-table th,
    #custom-specification-sheet #specification-table td {
      padding: 8px;
    }
    
    #custom-specification-sheet #specification-table th {
      width: 40%;
    }
  }
  
  /* Accessories Specifications specific styles */
  #custom-specification-sheet .accessories-specs .specification-row {
    margin: 0;
  }
  
  #custom-specification-sheet .accessories-specs .label-column,
  #custom-specification-sheet .accessories-specs .value-column {
    padding-left: 0px;
  }
  
  @media (max-width: 768px) {
    #custom-specification-sheet .accessories-specs .specification-row {
      margin: 0;
    }
  }
</style>